{"version":3,"sources":["../../src/pages/login/login.module.ts","../../node_modules/co/index.js","../../src/pages/login/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AACkB;AActD,IAAa,eAAe;IAA5B;IAA+B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAnB,eAAe;IAZ3B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,yDAAS;SACV;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;YACnC,4EAAe,CAAC,QAAQ,EAAE;SAC3B;QACD,OAAO,EAAE;YACP,yDAAS;SACV;KACF,CAAC;GACW,eAAe,CAAI;AAAJ;;;;;;;;;AChB5B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/co/index.js\n// module id = 639\n// module chunks = 6 7","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport {IonicPage,NavController} from 'ionic-angular';\nimport {Device} from '@ionic-native/device';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport co from 'co';\n\nimport {User} from  '../../providers/services/user.service';\nimport {GlobalVars} from '../../providers/providers';\nimport {PopupFactory} from '../../providers/providers';\nimport {PublicFactory} from '../../providers/providers';\nimport {ValidatorFactory} from '../../providers/providers';\nimport {DateService} from '../../providers/services/date.service';\n\n@IonicPage()\n@Component({\n    selector: 'page-login',\n    templateUrl: 'login.html'\n})\nexport class LoginPage {\n    //子元素 #hackerBox  #hacker\n    @ViewChild(\"hackerBox\") hackerBox: ElementRef;\n    @ViewChild(\"hacker\") hacker: ElementRef;\n    loader:any;\n    myToast:any;\n    errorCount:any;\n    globalInstance: any;\n    private hackerInterval;\n    imgCodeLink: any;\n    count: any;\n    // 登录表单的账户字段\n    private account: { mobile: string, imgCode: string,smsCode: string  } = {\n        mobile: '',\n        imgCode: '',\n        smsCode: ''\n    };\n\n    errorSubscription: any;\n\n    constructor(public navCtrl: NavController,\n                public device:Device,\n                public statusBar: StatusBar,\n                public user: User,\n                public dateService: DateService,\n                public globalVars: GlobalVars,\n                public publicFactory: PublicFactory,\n                public popupFactory: PopupFactory) {\n\n    }\n\n    ngOnInit() {\n        this.globalInstance = this.globalVars.getInstance();\n    }\n\n    ngAfterViewInit() {\n        let hackerBox = this.hackerBox.nativeElement;\n        let canvas = this.hacker.nativeElement;\n        //把外层DIV的宽和高赋值给canvas\n        let width = canvas.width = hackerBox.offsetWidth;\n        let height = canvas.height = hackerBox.offsetHeight;\n        let letters: any = new Array(100).join('1').split('');\n\n        /**\n         * 黑客帝国数字雨效果\n         * */\n        let draw = function () {\n\n            canvas.getContext('2d').fillStyle = 'rgba(0,0,0,.05)';\n            canvas.getContext('2d').fillRect(0, 0, width, height);\n            canvas.getContext('2d').fillStyle = '#0F0';\n\n            letters.map(function (y_pos, index) {\n                let text = String.fromCharCode(/*3e4*/ 49 + Math.random() * 33);\n                let x_pos = index * 10;\n                canvas.getContext('2d').fillText(text, x_pos, y_pos);\n                letters[index] = (y_pos > 200 + Math.random() * 1e4) ? 0 : y_pos + 10;\n            });\n        };\n        this.hackerInterval = setInterval(draw, 33);\n        this.getImgCode();\n    }\n\n    ionViewDidEnter(){\n        this.statusBar.show();\n    }\n\n    ionViewDidLoad() {\n        //订阅请求错误信息\n        this.errorSubscription = this.publicFactory.error.subscribe((data) => {\n            if(data.type == 0) {\n                this.myToast = this.popupFactory.showToast({\n                    message: data.message,\n                    // message: '<i class=\"icon icon-ios ion-ios-warning toast-icon\" ></i>' + data.message,\n                    duration: data.duration || 3000,\n                    position: data.position || 'top'\n                });\n                this.myToast.onDidDismiss(()=> {\n                    this.errorCount = 0;\n                });\n            }\n            if(data.type == 1) {\n                this.popupFactory.showAlert({\n                    message: data.message\n                });\n            }\n        });\n    }\n\n    ionViewWillLeave() {\n        //取消选择单位订阅\n        this.errorSubscription.unsubscribe();\n    }\n\n\n    /**\n     * 当视图离开时\n     * */\n    ionViewDidLeave() {\n        //删除nav堆栈：从0开始，删除1个\n        // this.navCtrl.remove(0, 1);\n        //删除interval\n        clearInterval(this.hackerInterval);\n    }\n\n    //验证表单\n    validateForm() {\n        //验证对象实例\n        let validator = new ValidatorFactory();\n        validator.addStrategy(this.account.mobile, [{\n            strategy: 'isNonEmpty',\n            errorMsg: '手机号码不能为空'\n        }, {\n            strategy: 'isMobile',\n            errorMsg: '手机号码格式不正确'\n        }]);\n\n        validator.addStrategy(this.account.imgCode, [{\n            strategy: 'isNonEmpty',\n            errorMsg: '图形验证码不能为空'\n        }]);\n\n        validator.addStrategy(this.account.smsCode, [{\n            strategy: 'isNonEmpty',\n            errorMsg: '图形验证码不能为空'\n        }]);\n\n        //开始验证\n        let errorMsg = validator.startValidate();\n        return errorMsg;\n    }\n\n    doLogin() {\n        let errorMsg = this.validateForm();\n        if (!!errorMsg) {\n            this.popupFactory.showToast({\n                message: errorMsg\n            });\n            return false;\n        }\n        this.loader = this.popupFactory.loading();\n        this.loader.present();\n        co(function *() {\n            let loginStatus: any = yield this.user.login(this.account);\n            let userPower: any = {};\n            if (loginStatus.code == 1) {\n                userPower = yield this.user.getUserPower();\n            }\n\n            if(!!this.loader) {\n                this.loader.dismiss();\n            }\n\n            if (userPower.code == 1) {\n                this.dateService.loadDateList({}).subscribe(\n                    data => {\n                        let res: any = data;\n                        if (res._body.code == 1) {\n                            this.globalInstance.setDateValue(res._body.data);\n                            if (this.globalInstance.adminCode['06']) {\n                                this.navCtrl.setRoot('HomePage', {}, {\n                                    animate: true,\n                                    direction: 'forward'\n                                });\n                            } else if (this.globalInstance.adminCode['13']) {\n                                this.navCtrl.setRoot('BankListPage', {}, {\n                                    animate: true,\n                                    direction: 'forward'\n                                })\n                            } else {\n                                this.popupFactory.showAlert({\n                                    title: '提示',\n                                    message: '您还未开通数据查看权限，请联系管理员！'\n                                })\n                            }\n                        }\n                    });\n            }\n\n        }.bind(this));\n    }\n\n    getImgCode() {\n        this.imgCodeLink = 'https://reportcenterapi.ucsmy.com/View/Web/GetImageCode.ashx?' + Math.random();\n    }\n\n    //获取短信验证码\n    getSmsCode() {\n        //验证对象实例\n        let validator = new ValidatorFactory();\n        validator.addStrategy(this.account.mobile, [{\n            strategy: 'isNonEmpty',\n            errorMsg: '手机号码不能为空'\n        }, {\n            strategy: 'isMobile',\n            errorMsg: '手机号码格式不正确'\n        }]);\n\n        validator.addStrategy(this.account.imgCode, [{\n            strategy: 'isNonEmpty',\n            errorMsg: '图形验证码不能为空'\n        }]);\n        //开始验证\n        let errorMsg = validator.startValidate();\n        if (!!errorMsg) {\n            this.popupFactory.showToast({\n                message: errorMsg\n            });\n            return false;\n        }\n\n        let _sendData: any = {\n            mobile: this.account.mobile,\n            imgCode: this.account.imgCode\n        };\n        this.user.loadSmsCode(_sendData).subscribe((data)=> {\n            let res: any = data;\n            if (res._body.code == 1) {\n                this.count = 60;\n                let myInterval = setInterval(()=> {\n                    this.count--;\n                    if (this.count == 0) {\n                        this.count = null;\n                        clearInterval(myInterval)\n                    }\n                }, 1000);\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}