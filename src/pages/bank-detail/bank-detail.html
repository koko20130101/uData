<ion-header>
    <ion-navbar color="dark">
        <ion-title>
            {{bankInfo.bankName}}
        </ion-title>
        <ion-buttons end>
            <ucs-unit pageName="{{pageName}}"></ucs-unit>
        </ion-buttons>
    </ion-navbar>
    <ion-toolbar ngClass="time-list" color="dark" text-center>
        <ucs-date pageName="{{pageName}}"></ucs-date>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)" ngClass="my-refresher">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <div ngClass="total-data" text-center>
        <p>本日交易额</p>
        <h2 ion-text [innerHTML]="bankTotalData.total[0]"
            color="{{bankTotalData.total[1]=='true'?'danger':(bankTotalData.total[1]=='false'?'secondary':'')}}"></h2>
    </div>
    <ion-list ngClass="model-title">
        <ion-item>
            <h2>项目情况</h2>
            <ion-note item-right>
                <ion-icon name="arrow-up"></ion-icon>
            </ion-note>
        </ion-item>
    </ion-list>
    <div ngClass="model-content">
        <ion-segment [(ngModel)]="projectType" ngClass="my-segment">
            <ion-segment-button value="1">项目情况</ion-segment-button>
            <ion-segment-button value="2" (click)="getProjectType()">资产类型</ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="projectType" padding>
            <div *ngSwitchCase="'1'">
                <div ngClass="info-list">
                    <ion-row>
                        <ion-col col-5 text-left>发布项目数</ion-col>
                        <ion-col text-right>
                            <span [innerHTML]="bankTotalData.ProjectNumber[0]"></span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>融资人数</ion-col>
                        <ion-col text-right>
                            <span [innerHTML]="bankTotalData.financingNumber[0]"></span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>平均满标时间</ion-col>
                        <ion-col text-right>
                            <span [innerHTML]="bankTotalData.time[0]"></span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                </div>
            </div>
            <div *ngSwitchCase="'2'">2</div>
        </div>
    </div>
    <ion-list ngClass="model-title">
        <ion-item>
            <h2>项目走势分析</h2>
            <ion-note>
                <ion-note name="arrow-up"></ion-note>
            </ion-note>
        </ion-item>
    </ion-list>
    <div ngClass="model-content">
        <ion-segment [(ngModel)]="projectTrendType" ngClass="my-segment">
            <ion-segment-button value="1" (click)="getProjectTrendType()">收益率走势</ion-segment-button>
            <ion-segment-button value="2" (click)="getProjectTrendType()">期限走势</ion-segment-button>
            <ion-segment-button value="3" (click)="getProjectTrendType()">收益率走势</ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="projectTrendType" padding>
            <div *ngSwitchCase="'1'">
                <div ngClass="sub-total-data" text-center>
                    <p>平均收益率</p>
                    <h2 ion-text
                        color="{{bankTotalData.AverageRate[1]=='true'?'danger':(bankTotalData.AverageRate[1]=='false'?'secondary':'')}}">
                        <strong ion-text [innerHTML]="bankTotalData.AverageRate[0]"></strong>
                        <span>%</span>
                    </h2>
                </div>
            </div>
            <div *ngSwitchCase="'2'">
                <div ngClass="sub-total-data" text-center>
                    <p>平均期限</p>
                    <h2 ion-text
                        color="{{bankTotalData.AverageDeal[1]=='true'?'danger':(bankTotalData.AverageDeal[1]=='false'?'secondary':'')}}">
                        <strong ion-text [innerHTML]="bankTotalData.AverageDeal[0]"></strong>
                        <span>天</span>
                    </h2>
                </div>
            </div>
            <div *ngSwitchCase="'3'">
                <div ngClass="sub-total-data" text-center>
                    <p>平均发布规模</p>
                    <h2 ion-text
                        color="{{bankTotalData.AverageTerm[1]=='true'?'danger':(bankTotalData.AverageTerm[1]=='false'?'secondary':'')}}">
                        <strong ion-text [innerHTML]="bankTotalData.AverageTerm[0]"></strong>
                        <span>万元</span>
                    </h2>
                </div>
            </div>
        </div>
    </div>
    <ion-list ngClass="model-title">
        <ion-item>
            <h2>用户运营</h2>
            <ion-note item-right>
                <ion-icon name="arrow-up"></ion-icon>
            </ion-note>
        </ion-item>
    </ion-list>
    <div ngClass="model-content">
        <ion-segment [(ngModel)]="userOperateType" ngClass="my-segment">
            <ion-segment-button value="1">用户概况</ion-segment-button>
            <ion-segment-button value="2">用户传化</ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="userOperateType">
            <div *ngSwitchCase="'1'" padding>
                <div ngClass="info-list">
                    <ion-row>
                        <ion-col col-5 text-left>注册人数</ion-col>
                        <ion-col text-right ion-text
                                 color="{{bankTotalData.UserNumber[1]=='true'?'danger':(bankTotalData.UserNumber[1]=='false'?'secondary':'')}}">
                            <span [innerHTML]="bankTotalData.UserNumber[0]"></span><span ngClass="unit">人</span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>投资人数</ion-col>
                        <ion-col text-right ion-text
                                 color="{{bankTotalData.PeopleNumber[1]=='true'?'danger':(bankTotalData.PeopleNumber[1]=='false'?'secondary':'')}}">
                            <span [innerHTML]="bankTotalData.PeopleNumber[0]"></span><span ngClass="unit">人</span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>投资笔数</ion-col>
                        <ion-col text-right ion-text
                                 color="{{bankTotalData.DealNumber[1]=='true'?'danger':(bankTotalData.DealNumber[1]=='false'?'secondary':'')}}">
                            <span [innerHTML]="bankTotalData.DealNumber[0]"></span><span ngClass="unit">笔</span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>重复投资率</ion-col>
                        <ion-col text-right ion-text
                                 color="{{bankTotalData.repeatRate[1]=='true'?'danger':(bankTotalData.repeatRate[1]=='false'?'secondary':'')}}">
                            <span [innerHTML]="bankTotalData.repeatRate[0]"></span><span ngClass="unit">%</span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>投资用户活跃度</ion-col>
                        <ion-col text-right ion-text
                                 color="{{bankTotalData.activeRate[1]=='true'?'danger':(bankTotalData.activeRate[1]=='false'?'secondary':'')}}">
                            <span [innerHTML]="bankTotalData.activeRate[0]"></span><span ngClass="unit">%</span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-5 text-left>本行卡投资占比</ion-col>
                        <ion-col text-right ion-text
                                 color="{{bankTotalData.selfBank[1]=='true'?'danger':(bankTotalData.selfBank[1]=='false'?'secondary':'')}}">
                            <span [innerHTML]="bankTotalData.selfBank[0]"></span><span ngClass="unit">%</span>
                            <ion-icon name="arrow-down"></ion-icon>
                        </ion-col>
                    </ion-row>
                </div>
            </div>
            <div *ngSwitchCase="'2'">
                <div class="user">
                    <div class="user-inner">
                        <div class="user-item item-1">
                            <span class="number"><span [innerHTML]="bankTotalData.heavyInvest[0] || 0"></span>人</span>
                            <span class="title">重复投资
                                    </span>
                        </div>
                        <div class="user-item item-2">
                            <span class="number"><span [innerHTML]="bankTotalData.newInvest[0] || 0"></span>人</span>
                            <span class="title">新增投资
                                    </span>
                        </div>
                        <div class="user-item item-3">
                            <span class="number"><span [innerHTML]="bankTotalData.newBindCard[0] || 0"></span>人</span>
                            <span class="title">新增绑卡
                                    </span>
                        </div>
                        <div class="user-item item-4">
                            <span class="number"><span [innerHTML]="bankTotalData.newUser[0] || 0"></span>人</span>
                            <span class="title">新增注册
                                    </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ion-list ngClass="model-title">
        <ion-item>
            <h2>二级市场</h2>
            <ion-note item-right>
                <ion-icon name="arrow-up"></ion-icon>
            </ion-note>
        </ion-item>
    </ion-list>
    <div ngClass="model-content">
        <div ngClass="info-list">
            <ion-row>
                <ion-col col-5 text-left>发布项目数</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.secProjectNumber[1]=='true'?'danger':(bankTotalSecData.secProjectNumber[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.secProjectNumber[0]"></span><span ngClass="unit">个</span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-5 text-left>转让发布金额</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.secReleaseNumber[1]=='true'?'danger':(bankTotalSecData.secReleaseNumber[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.secReleaseNumber[0]"></span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-5 text-left>成交金额</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.secDealNumber[1]=='true'?'danger':(bankTotalSecData.secDealNumber[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.secDealNumber[0]"></span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-5 text-left>平均期限</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.secPeriod[1]=='true'?'danger':(bankTotalSecData.secPeriod[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.secPeriod[0]"></span><span ngClass="unit">天</span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-5 text-left>平均持有时间</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.averageTime[1]=='true'?'danger':(bankTotalSecData.averageTime[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.averageTime[0]"></span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-5 text-left>转让人数</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.secUser[1]=='true'?'danger':(bankTotalSecData.secUser[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.secUser[0]"></span><span ngClass="unit">人</span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-5 text-left>重复转让占比</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalSecData.secRepeatRate[1]=='true'?'danger':(bankTotalSecData.secRepeatRate[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalSecData.secRepeatRate[0]"></span><span ngClass="unit">%</span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
        </div>
        <div ngClass="sub-total-data have-border" text-center >
            <p>平均收益率</p>
            <h2 ion-text
                color="{{bankTotalSecData.secAverageRate[1]=='true'?'danger':(bankTotalSecData.secAverageRate[1]=='false'?'secondary':'')}}">
                <strong ion-text [innerHTML]="bankTotalSecData.secAverageRate[0]"></strong>
                <span>%</span>
            </h2>
        </div>
    </div>
    <ion-list ngClass="model-title">
        <ion-item>
            <h2>渠道占比</h2>
            <ion-note item-right>
                <ion-icon name="arrow-up"></ion-icon>
            </ion-note>
        </ion-item>
    </ion-list>
    <div ngClass="model-content" padding>
        <div ngClass="info-list">
            <ion-row>
                <ion-col col-5 text-left>注册人数</ion-col>
                <ion-col text-right ion-text
                         color="{{bankTotalData.otherDeal[1]=='true'?'danger':(bankTotalData.otherDeal[1]=='false'?'secondary':'')}}">
                    <span [innerHTML]="bankTotalData.otherDeal[0]"></span><span ngClass="unit">人</span>
                    <ion-icon name="arrow-down"></ion-icon>
                </ion-col>
            </ion-row>
        </div>
    </div>
</ion-content>
